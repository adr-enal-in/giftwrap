// Generated by CoffeeScript 1.3.3
(function() {
  var jsTimeToDays, jsTimeToHours, jsTimeToMinutes, jsTimeToSeconds, relativeTime;

  jsTimeToSeconds = function(jsTime) {
    return jsTime * .001;
  };

  jsTimeToMinutes = function(jsTime) {
    return jsTimeToSeconds(jsTime) / 60;
  };

  jsTimeToHours = function(jsTime) {
    return jsTimeToMinutes(jsTime) / 60;
  };

  jsTimeToDays = function(jsTime) {
    return jsTimeToHours(jsTime) / 24;
  };

  relativeTime = function(timeInPast) {
    var days, hours, minutes, now;
    now = Date.now();
    minutes = jsTimeToMinutes(now - timeInPast);
    hours = jsTimeToHours(now - timeInPast);
    days = jsTimeToDays(now - timeInPast);
    if (Math.round(minutes) === 0) {
      return "less than a minute ago";
    }
    if (Math.round(minutes) === 1) {
      return "a minute ago";
    }
    if (minutes < 45) {
      return "" + (Math.round(minutes)) + " min ago";
    }
    if (minutes < 90) {
      return "about 1 hr ago";
    }
    if (minutes < 1440) {
      return "about " + (Math.round(hours)) + " hrs ago";
    }
    if (minutes < 2880) {
      return "1 day ago";
    }
    if (minutes < 43200) {
      return "" + (Math.round(days)) + " days ago";
    }
    return "over " + jsTimeToHours(timeInPast) + " years ago";
  };

  $(document).ready(function() {
    $("time").each(function() {
      var time;
      time = $(this).text();
      return $(this).text(relativeTime(time));
    });
    return this;
  });

}).call(this);
